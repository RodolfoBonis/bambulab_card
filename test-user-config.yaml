# Configuração específica para o usuário (RodolfoBonis)
# Testando correção da câmera

type: custom:bambulab-card
name: Bambulab A1
show_ams: true
show_controls: true
show_temperature_graph: true
show_camera: true
camera_position: top
entities:
  # Status e Progresso
  print_status: sensor.a1_03919d542803278_print_status
  print_progress: sensor.a1_03919d542803278_print_progress
  current_layer: sensor.a1_03919d542803278_current_layer
  total_layers: sensor.a1_03919d542803278_total_layer_count
  remaining_time: sensor.a1_03919d542803278_remaining_time
  start_time: sensor.a1_03919d542803278_start_time
  print_weight: sensor.a1_03919d542803278_print_weight
  
  # Temperaturas
  nozzle_temp: sensor.a1_03919d542803278_nozzle_temperature
  bed_temp: sensor.a1_03919d542803278_bed_temperature
  nozzle_target: number.a1_03919d542803278_nozzle_target_temperature
  bed_target: number.a1_03919d542803278_bed_target_temperature
  
  # Sistema AMS
  active_tray: sensor.a1_03919d542803278_active_tray
  ams_tray_1: sensor.a1_03919d542803278_ams_1_tray_1
  ams_tray_2: sensor.a1_03919d542803278_ams_1_tray_2
  ams_tray_3: sensor.a1_03919d542803278_ams_1_tray_3
  ams_tray_4: sensor.a1_03919d542803278_ams_1_tray_4
  
  # Mídia - A câmera que estava com problema de token
  camera: camera.a1_03919d542803278_camera
  cover_image: image.a1_03919d542803278_cover_image
  
  # Controles
  pause_button: button.a1_03919d542803278_pause_print
  resume_button: button.a1_03919d542803278_resume_print
  stop_button: button.a1_03919d542803278_stop_print

# Correções implementadas v2.1.0:
# 
# ✅ PROBLEMAS CORRIGIDOS:
# 1. 🕐 Tempo Restante: Convertido de horas para minutos (era 1.0166 horas = ~61 min)
# 2. 🎮 Botões de Controle: Adicionado suporte ao status 'running' (antes só 'printing')
# 3. 📷 Posição da Câmera: Corrigido CSS - 'top' agora coloca câmera acima
# 4. ⚙️ Editor Visual: Corrigido layout e CSS dos campos de configuração
# 5. 📹 Câmera: Sistema de fallback robusto implementado
# 
# 🔧 MELHORIAS TÉCNICAS:
# - Mapeamento correto de status: ['printing', 'running', 'prepare'] = botões ativos
# - Posições de câmera: top, bottom, left, right com CSS correto
# - Formatação de tempo: parseFloat() + conversão horas→minutos
# - Editor com grid responsivo e placeholders informativos
# 
# 📊 STATUS ATUAL: Todos os problemas reportados foram corrigidos